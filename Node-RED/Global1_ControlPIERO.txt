[
    {
        "id": "1e28cf77.dd4151",
        "type": "tab",
        "label": "Control_PIERO",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ad963486.648c08",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP1/PIERO/Movimiento",
        "qos": "",
        "retain": "",
        "broker": "3a8712eb.e7388e",
        "x": 1040,
        "y": 600,
        "wires": []
    },
    {
        "id": "cf045035.1210a",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP1/PIERO/Modo",
        "qos": "",
        "retain": "",
        "broker": "3a8712eb.e7388e",
        "x": 660,
        "y": 320,
        "wires": []
    },
    {
        "id": "28ec7695.d35a3a",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "ff334529.175c38",
        "order": 17,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "",
        "x": 290,
        "y": 600,
        "wires": [
            [
                "6f709c28.5cee54"
            ]
        ]
    },
    {
        "id": "726aa52b.93763c",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "ff334529.175c38",
        "order": 14,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "W",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "8",
        "payloadType": "str",
        "topic": "",
        "x": 416.9921817779541,
        "y": 540.9999694824219,
        "wires": [
            [
                "6f709c28.5cee54"
            ]
        ]
    },
    {
        "id": "ef41816b.9fbd9",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "ff334529.175c38",
        "order": 19,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "D",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "6",
        "payloadType": "str",
        "topic": "",
        "x": 523.0078048706055,
        "y": 596.0000371932983,
        "wires": [
            [
                "6f709c28.5cee54"
            ]
        ]
    },
    {
        "id": "de686e86.a7a06",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "ff334529.175c38",
        "order": 18,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "S",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "",
        "x": 409.9999885559082,
        "y": 629.0078201293945,
        "wires": [
            [
                "6f709c28.5cee54"
            ]
        ]
    },
    {
        "id": "42a112e7.cf2a3c",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "ff334529.175c38",
        "order": 20,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "str",
        "topic": "",
        "x": 412.00000381469727,
        "y": 692.0078048706055,
        "wires": [
            [
                "6f709c28.5cee54"
            ]
        ]
    },
    {
        "id": "ec32b4e2.0adb28",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "---------------ESP1----------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 380,
        "y": 40,
        "wires": []
    },
    {
        "id": "764b59b2.3b0628",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "ff334529.175c38",
        "order": 9,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 357.7500305175781,
        "y": 348.0234327316284,
        "wires": [
            [
                "ba66ef4d.b6d29"
            ]
        ]
    },
    {
        "id": "18fb938.eaa2c6d",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "ff334529.175c38",
        "order": 22,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Automático",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "",
        "x": 355.5078430175781,
        "y": 390.52342796325684,
        "wires": [
            [
                "ba66ef4d.b6d29"
            ]
        ]
    },
    {
        "id": "1d51c4d6.0ced9b",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "ff334529.175c38",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reposo",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 357.5078430175781,
        "y": 436.5234432220459,
        "wires": [
            [
                "ba66ef4d.b6d29"
            ]
        ]
    },
    {
        "id": "ba66ef4d.b6d29",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Modo",
        "func": "var m=global.get('Modo')||0\nif(m === 0)\n{\n    if(msg.payload===1)\n    {\n        global.set('Modo',1);\n        msg.payload={};\n        msg.payload.Modo=1;\n        return msg;\n        \n    }\n    else if (msg.payload===2)\n    {\n        global.set('Modo',2);\n        msg.payload={};\n        msg.payload.Modo=2;\n        return msg;\n    }\n}\nelse if (m!==0)\n{\n    if (msg.payload===0)\n    {\n        global.set('Modo',0);\n        msg.payload={};\n        msg.payload.Modo=0;\n        return msg;\n    }\n}\nelse \n{\n    msg.payload=m;\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 400,
        "wires": [
            [
                "cf045035.1210a",
                "a4e70a6.d06aaf8"
            ]
        ]
    },
    {
        "id": "51dbadee.87cfd4",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 11,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Manual_LED",
        "x": 1090,
        "y": 340,
        "wires": []
    },
    {
        "id": "4b451142.a5074",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 24,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "blue",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Auto_LED",
        "x": 1090,
        "y": 460,
        "wires": []
    },
    {
        "id": "37d39c5b.6287b4",
        "type": "mqtt in",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP1/PIERO/Sensores",
        "qos": "2",
        "broker": "3a8712eb.e7388e",
        "x": 259.24996185302734,
        "y": 120,
        "wires": [
            [
                "40b6bb16.47e184"
            ]
        ]
    },
    {
        "id": "6f709c28.5cee54",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Movimiento",
        "func": "var m=global.get(\"Modo\");\nvar mov=msg.payload;\nif (m===1)\n{\n    msg.payload={};\n    msg.payload={\"orden\":mov};\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 600,
        "wires": [
            [
                "ad963486.648c08"
            ]
        ]
    },
    {
        "id": "a4e70a6.d06aaf8",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload.Modo",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 710,
        "y": 400,
        "wires": [
            [
                "b6566390.6b7a2",
                "ffd412bc.f58e6"
            ],
            [
                "69be2419.9835dc",
                "ffd412bc.f58e6"
            ],
            [
                "b6566390.6b7a2",
                "17f890e8.f9f2cf"
            ]
        ]
    },
    {
        "id": "69be2419.9835dc",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 320,
        "wires": [
            [
                "51dbadee.87cfd4"
            ]
        ]
    },
    {
        "id": "17f890e8.f9f2cf",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 440,
        "wires": [
            [
                "4b451142.a5074"
            ]
        ]
    },
    {
        "id": "b6566390.6b7a2",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 360,
        "wires": [
            [
                "51dbadee.87cfd4"
            ]
        ]
    },
    {
        "id": "ffd412bc.f58e6",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 480,
        "wires": [
            [
                "4b451142.a5074"
            ]
        ]
    },
    {
        "id": "9ea27c2f.82fe5",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "",
        "func": "var s_i=msg.payload.Sensores[1];\nvar s_d=msg.payload.Sensores[2];\nmsg1={};\nmsg1.payload=s_i;\nmsg2={};\nmsg2.payload=s_d;\nreturn [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "x": 650,
        "y": 120,
        "wires": [
            [
                "651b171b.5aaf78",
                "29d2c04f.3b077"
            ],
            [
                "6bfbbd21.195be4",
                "3ae6f461.7c19bc"
            ]
        ]
    },
    {
        "id": "651b171b.5aaf78",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 2,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Sensor izquierda",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 870,
        "y": 40,
        "wires": []
    },
    {
        "id": "6bfbbd21.195be4",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 4,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Sensor derecha",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 869.2499618530273,
        "y": 200,
        "wires": []
    },
    {
        "id": "29d2c04f.3b077",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "50",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 80,
        "wires": [
            [
                "805db36e.da0e9"
            ],
            [
                "8ae0c228.b3e08"
            ]
        ]
    },
    {
        "id": "1ea25eb9.f76331",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Obstáculo izquierda",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Led_Izq",
        "x": 1249.2499618530273,
        "y": 100,
        "wires": []
    },
    {
        "id": "805db36e.da0e9",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 60,
        "wires": [
            [
                "1ea25eb9.f76331"
            ]
        ]
    },
    {
        "id": "8ae0c228.b3e08",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 100,
        "wires": [
            [
                "1ea25eb9.f76331"
            ]
        ]
    },
    {
        "id": "3ae6f461.7c19bc",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "50",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 899.2499618530273,
        "y": 160,
        "wires": [
            [
                "e28c980e.ee3778"
            ],
            [
                "ecb349be.181798"
            ]
        ]
    },
    {
        "id": "957c173.9a069e8",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "Obstáculo derecha",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "LED_dcha",
        "x": 1230,
        "y": 200,
        "wires": []
    },
    {
        "id": "ecb349be.181798",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 200,
        "wires": [
            [
                "957c173.9a069e8"
            ]
        ]
    },
    {
        "id": "e28c980e.ee3778",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 160,
        "wires": [
            [
                "957c173.9a069e8"
            ]
        ]
    },
    {
        "id": "9b2441e3.e9f32",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 125,
        "y": 324.74220848083496,
        "wires": []
    },
    {
        "id": "71cf46c5.910408",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 21,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 130.265625,
        "y": 388.74999809265137,
        "wires": []
    },
    {
        "id": "45022b60.8daff4",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "ff334529.175c38",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 129.265625,
        "y": 462.7499990463257,
        "wires": []
    },
    {
        "id": "40b6bb16.47e184",
        "type": "json",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 530,
        "y": 120,
        "wires": [
            [
                "9ea27c2f.82fe5"
            ]
        ]
    },
    {
        "id": "d50fd435.be5368",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP2/PIERO/Movimiento",
        "qos": "",
        "retain": "",
        "broker": "3a8712eb.e7388e",
        "x": 1000,
        "y": 1420,
        "wires": []
    },
    {
        "id": "caa490be.70c65",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP2/PIERO/Modo",
        "qos": "",
        "retain": "",
        "broker": "3a8712eb.e7388e",
        "x": 700,
        "y": 1120,
        "wires": []
    },
    {
        "id": "5f4e8682.6c4d48",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "f1898c68.89e9",
        "order": 15,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "",
        "x": 310,
        "y": 1420,
        "wires": [
            [
                "804f0bc0.42a6f8"
            ]
        ]
    },
    {
        "id": "7f98c3d5.65a54c",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "f1898c68.89e9",
        "order": 14,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "W",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "8",
        "payloadType": "str",
        "topic": "",
        "x": 436.9921817779541,
        "y": 1360.9999694824219,
        "wires": [
            [
                "804f0bc0.42a6f8"
            ]
        ]
    },
    {
        "id": "c36a17c7.b51ba8",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "f1898c68.89e9",
        "order": 17,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "D",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "6",
        "payloadType": "str",
        "topic": "",
        "x": 543.0078048706055,
        "y": 1416.0000371932983,
        "wires": [
            [
                "804f0bc0.42a6f8"
            ]
        ]
    },
    {
        "id": "5a7f03cd.c0941c",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "f1898c68.89e9",
        "order": 16,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "S",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "",
        "x": 429.9999885559082,
        "y": 1449.0078201293945,
        "wires": [
            [
                "804f0bc0.42a6f8"
            ]
        ]
    },
    {
        "id": "9c2e960a.db6e98",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "f1898c68.89e9",
        "order": 18,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "str",
        "topic": "",
        "x": 432.00000381469727,
        "y": 1512.0078048706055,
        "wires": [
            [
                "804f0bc0.42a6f8"
            ]
        ]
    },
    {
        "id": "54ae1126.ab21c",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "---------------ESP2----------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 400,
        "y": 800,
        "wires": []
    },
    {
        "id": "8559569c.2e1268",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "f1898c68.89e9",
        "order": 12,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 397.7500305175781,
        "y": 1173.9843835830688,
        "wires": [
            [
                "4cac6043.4ed32"
            ]
        ]
    },
    {
        "id": "9da38e99.0ba06",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "f1898c68.89e9",
        "order": 20,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Automático",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "",
        "x": 395.5078430175781,
        "y": 1216.4843788146973,
        "wires": [
            [
                "4cac6043.4ed32"
            ]
        ]
    },
    {
        "id": "f04267d1.8124a8",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "f1898c68.89e9",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reposo",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 397.5078430175781,
        "y": 1262.4843940734863,
        "wires": [
            [
                "4cac6043.4ed32"
            ]
        ]
    },
    {
        "id": "4cac6043.4ed32",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Modo",
        "func": "var m=global.get('Modo')||0\nif(m === 0)\n{\n    if(msg.payload===1)\n    {\n        global.set('Modo',1);\n        msg.payload={};\n        msg.payload.Modo=1;\n        return msg;\n        \n    }\n    else if (msg.payload===2)\n    {\n        global.set('Modo',2);\n        msg.payload={};\n        msg.payload.Modo=2;\n        return msg;\n    }\n}\nelse if (m!==0)\n{\n    if (msg.payload===0)\n    {\n        global.set('Modo',0);\n        msg.payload={};\n        msg.payload.Modo=0;\n        return msg;\n    }\n}\nelse \n{\n    msg.payload=m;\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 613.7578353881836,
        "y": 1217.8281335830688,
        "wires": [
            [
                "caa490be.70c65",
                "19014500.ac51eb"
            ]
        ]
    },
    {
        "id": "9964a44b.7c96c8",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 13,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Manual_LED",
        "x": 1150,
        "y": 1180,
        "wires": []
    },
    {
        "id": "b9028ad9.db4598",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 21,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "blue",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Auto_LED",
        "x": 1150,
        "y": 1280,
        "wires": []
    },
    {
        "id": "e6acd58d.af2928",
        "type": "mqtt in",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP2/PIERO/Sensores",
        "qos": "2",
        "broker": "3a8712eb.e7388e",
        "x": 250,
        "y": 940,
        "wires": [
            [
                "a848093d.cc9048"
            ]
        ]
    },
    {
        "id": "804f0bc0.42a6f8",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Movimiento",
        "func": "var m=global.get(\"Modo\");\nvar mov=msg.payload;\nif (m===1)\n{\n    msg.payload={};\n    msg.payload={\"orden\":mov};\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 1420,
        "wires": [
            [
                "d50fd435.be5368"
            ]
        ]
    },
    {
        "id": "19014500.ac51eb",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload.Modo",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 790,
        "y": 1220,
        "wires": [
            [
                "28e1a751.9345c8",
                "ed26440e.872088"
            ],
            [
                "424241b6.d6426",
                "ed26440e.872088"
            ],
            [
                "28e1a751.9345c8",
                "c2fdb533.ba3dd8"
            ]
        ]
    },
    {
        "id": "424241b6.d6426",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1160,
        "wires": [
            [
                "9964a44b.7c96c8"
            ]
        ]
    },
    {
        "id": "c2fdb533.ba3dd8",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1260,
        "wires": [
            [
                "b9028ad9.db4598"
            ]
        ]
    },
    {
        "id": "28e1a751.9345c8",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1200,
        "wires": [
            [
                "9964a44b.7c96c8"
            ]
        ]
    },
    {
        "id": "ed26440e.872088",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1300,
        "wires": [
            [
                "b9028ad9.db4598"
            ]
        ]
    },
    {
        "id": "789dd0fe.f6425",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 2,
        "width": "3",
        "height": "2",
        "name": "",
        "label": "Ultrasonidos Izquierda",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1060,
        "y": 800,
        "wires": []
    },
    {
        "id": "cf67a7b8.c62a38",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 3,
        "width": "3",
        "height": "2",
        "name": "",
        "label": "Ultrasonidos Derecha",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1060,
        "y": 960,
        "wires": []
    },
    {
        "id": "fcacc296.b12f7",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 7,
        "width": 0,
        "height": 0,
        "label": "Obstáculo izquierda",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Led_Izq",
        "x": 1020,
        "y": 1000,
        "wires": []
    },
    {
        "id": "bddd0baa.2d3188",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 165,
        "y": 1150.7031593322754,
        "wires": []
    },
    {
        "id": "98856bd.7fdb898",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 19,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 170.265625,
        "y": 1214.7109489440918,
        "wires": []
    },
    {
        "id": "ac757430.947098",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 169.265625,
        "y": 1288.710949897766,
        "wires": []
    },
    {
        "id": "a848093d.cc9048",
        "type": "json",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 530,
        "y": 940,
        "wires": [
            [
                "50d778b3.66d9a8",
                "9a870a7f.5a6d38"
            ]
        ]
    },
    {
        "id": "60170ea6.50124",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP3/PIERO/Movimiento",
        "qos": "",
        "retain": "",
        "broker": "3a8712eb.e7388e",
        "x": 1020,
        "y": 2220,
        "wires": []
    },
    {
        "id": "585ed120.ab064",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP3/PIERO/Modo",
        "qos": "",
        "retain": "",
        "broker": "3a8712eb.e7388e",
        "x": 720,
        "y": 1920,
        "wires": []
    },
    {
        "id": "b215267.c6024d8",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "92f14939.041ce8",
        "order": 12,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "",
        "x": 230,
        "y": 2220,
        "wires": [
            [
                "cda8d215.91e1"
            ]
        ]
    },
    {
        "id": "de6b1d1a.4b04a",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "92f14939.041ce8",
        "order": 11,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "W",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "8",
        "payloadType": "str",
        "topic": "",
        "x": 356.9921817779541,
        "y": 2160.999969482422,
        "wires": [
            [
                "cda8d215.91e1"
            ]
        ]
    },
    {
        "id": "25e61be2.3295f4",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "92f14939.041ce8",
        "order": 14,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "D",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "6",
        "payloadType": "str",
        "topic": "",
        "x": 463.00780487060547,
        "y": 2216.0000371932983,
        "wires": [
            [
                "cda8d215.91e1"
            ]
        ]
    },
    {
        "id": "be04bc8b.558ab",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "92f14939.041ce8",
        "order": 13,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "S",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "",
        "x": 349.9999885559082,
        "y": 2249.0078201293945,
        "wires": [
            [
                "cda8d215.91e1"
            ]
        ]
    },
    {
        "id": "46bba9bb.6bca68",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "92f14939.041ce8",
        "order": 15,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "str",
        "topic": "",
        "x": 352.00000381469727,
        "y": 2312.0078048706055,
        "wires": [
            [
                "cda8d215.91e1"
            ]
        ]
    },
    {
        "id": "73778718.1e6548",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "---------------ESP3----------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 390.75003814697266,
        "y": 1632.2109508514404,
        "wires": []
    },
    {
        "id": "20c6bc2a.f44a34",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "92f14939.041ce8",
        "order": 9,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 377.7500305175781,
        "y": 1960.2343835830688,
        "wires": [
            [
                "4779080c.ad2668"
            ]
        ]
    },
    {
        "id": "4ae15833.55b458",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "92f14939.041ce8",
        "order": 17,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Automático",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "",
        "x": 375.5078430175781,
        "y": 2002.7343788146973,
        "wires": [
            [
                "4779080c.ad2668"
            ]
        ]
    },
    {
        "id": "8623ec5.837d71",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "92f14939.041ce8",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reposo",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 377.5078430175781,
        "y": 2048.7343940734863,
        "wires": [
            [
                "4779080c.ad2668"
            ]
        ]
    },
    {
        "id": "4779080c.ad2668",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Modo",
        "func": "var m=global.get('Modo')||0\nif(m === 0)\n{\n    if(msg.payload===1)\n    {\n        global.set('Modo',1);\n        msg.payload={};\n        msg.payload.Modo=1;\n        return msg;\n        \n    }\n    else if (msg.payload===2)\n    {\n        global.set('Modo',2);\n        msg.payload={};\n        msg.payload.Modo=2;\n        return msg;\n    }\n}\nelse if (m!==0)\n{\n    if (msg.payload===0)\n    {\n        global.set('Modo',0);\n        msg.payload={};\n        msg.payload.Modo=0;\n        return msg;\n    }\n}\nelse \n{\n    msg.payload=m;\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 593.7578353881836,
        "y": 2004.0781335830688,
        "wires": [
            [
                "585ed120.ab064",
                "a1b34112.ad59e"
            ]
        ]
    },
    {
        "id": "3280c4fc.052a8c",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 10,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Manual_LED",
        "x": 1090,
        "y": 1980,
        "wires": []
    },
    {
        "id": "223b74b0.62c9dc",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 18,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "blue",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Auto_LED",
        "x": 1090,
        "y": 2080,
        "wires": []
    },
    {
        "id": "e53c01eb.2a37d",
        "type": "mqtt in",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP3/PIERO/Sensores",
        "qos": "2",
        "broker": "3a8712eb.e7388e",
        "x": 330,
        "y": 1740,
        "wires": [
            [
                "9d73c502.8de218"
            ]
        ]
    },
    {
        "id": "cda8d215.91e1",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Movimiento",
        "func": "var m=global.get(\"Modo\");\nvar mov=msg.payload;\nif (m===1)\n{\n    msg.payload={};\n    msg.payload={\"orden\":mov};\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 690,
        "y": 2220,
        "wires": [
            [
                "60170ea6.50124"
            ]
        ]
    },
    {
        "id": "a1b34112.ad59e",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload.Modo",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 741.6367568969727,
        "y": 2021.7539176940918,
        "wires": [
            [
                "aabf3e47.1ebb1",
                "cfb8d6d5.0ebb28"
            ],
            [
                "86b347d5.cb1298",
                "cfb8d6d5.0ebb28"
            ],
            [
                "aabf3e47.1ebb1",
                "f688051.c1c1df8"
            ]
        ]
    },
    {
        "id": "86b347d5.cb1298",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 1960,
        "wires": [
            [
                "3280c4fc.052a8c"
            ]
        ]
    },
    {
        "id": "f688051.c1c1df8",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 937.2498931884766,
        "y": 2056.999976158142,
        "wires": [
            [
                "223b74b0.62c9dc"
            ]
        ]
    },
    {
        "id": "aabf3e47.1ebb1",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 921.6365966796875,
        "y": 1995.4022989273071,
        "wires": [
            [
                "3280c4fc.052a8c"
            ]
        ]
    },
    {
        "id": "cfb8d6d5.0ebb28",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940.2341995239258,
        "y": 2095.0390272140503,
        "wires": [
            [
                "223b74b0.62c9dc"
            ]
        ]
    },
    {
        "id": "327e3b1f.8ac604",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 145,
        "y": 1936.9531593322754,
        "wires": []
    },
    {
        "id": "bdd365fc.9e9c78",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 150.265625,
        "y": 2000.9609489440918,
        "wires": []
    },
    {
        "id": "d64ca6b3.ed32a8",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 16,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 149.265625,
        "y": 2074.960949897766,
        "wires": []
    },
    {
        "id": "9d73c502.8de218",
        "type": "json",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 590,
        "y": 1740,
        "wires": [
            [
                "37b67568.4b919a"
            ]
        ]
    },
    {
        "id": "31ca78cd.f4d788",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP5/PIERO/Movimiento",
        "qos": "",
        "retain": "",
        "broker": "3a8712eb.e7388e",
        "x": 1060,
        "y": 3960,
        "wires": []
    },
    {
        "id": "e4b27890.327398",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP5/PIERO/Modo",
        "qos": "",
        "retain": "",
        "broker": "3a8712eb.e7388e",
        "x": 700,
        "y": 3680,
        "wires": []
    },
    {
        "id": "317ad1c8.d3fb4e",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "13f66c5.be2a194",
        "order": 15,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "",
        "x": 210,
        "y": 3960,
        "wires": [
            [
                "4660d704.9a7478"
            ]
        ]
    },
    {
        "id": "1b21dd9e.b71a72",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "13f66c5.be2a194",
        "order": 14,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "W",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "8",
        "payloadType": "str",
        "topic": "",
        "x": 330,
        "y": 3920,
        "wires": [
            [
                "4660d704.9a7478"
            ]
        ]
    },
    {
        "id": "569855.1aabb7ac",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "13f66c5.be2a194",
        "order": 17,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "D",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "6",
        "payloadType": "str",
        "topic": "",
        "x": 450,
        "y": 3960,
        "wires": [
            [
                "4660d704.9a7478"
            ]
        ]
    },
    {
        "id": "6ba558e2.387bc8",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "13f66c5.be2a194",
        "order": 16,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "S",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "",
        "x": 330,
        "y": 4000,
        "wires": [
            [
                "4660d704.9a7478"
            ]
        ]
    },
    {
        "id": "478e1a59.b44ff4",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "13f66c5.be2a194",
        "order": 18,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "str",
        "topic": "",
        "x": 330,
        "y": 4060,
        "wires": [
            [
                "4660d704.9a7478"
            ]
        ]
    },
    {
        "id": "bb2ec72e.4ff858",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "---------------ESP5----------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 300,
        "y": 3420,
        "wires": []
    },
    {
        "id": "4989c56b.0942fc",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "13f66c5.be2a194",
        "order": 12,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 380,
        "y": 3720,
        "wires": [
            [
                "fc6d2f54.6241c"
            ]
        ]
    },
    {
        "id": "6e90f739.008778",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "13f66c5.be2a194",
        "order": 20,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Automático",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "",
        "x": 370,
        "y": 3760,
        "wires": [
            [
                "fc6d2f54.6241c"
            ]
        ]
    },
    {
        "id": "38d2a440.5e394c",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "13f66c5.be2a194",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reposo",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 380,
        "y": 3800,
        "wires": [
            [
                "fc6d2f54.6241c"
            ]
        ]
    },
    {
        "id": "fc6d2f54.6241c",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Modo",
        "func": "var m=global.get('Modo')||0\nif(m === 0)\n{\n    if(msg.payload===1)\n    {\n        global.set('Modo',1);\n        msg.payload={};\n        msg.payload.Modo=1;\n        return msg;\n        \n    }\n    else if (msg.payload===2)\n    {\n        global.set('Modo',2);\n        msg.payload={};\n        msg.payload.Modo=2;\n        return msg;\n    }\n}\nelse if (m!==0)\n{\n    if (msg.payload===0)\n    {\n        global.set('Modo',0);\n        msg.payload={};\n        msg.payload.Modo=0;\n        return msg;\n    }\n}\nelse \n{\n    msg.payload=m;\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 570,
        "y": 3760,
        "wires": [
            [
                "e4b27890.327398",
                "9bb94e14.be257"
            ]
        ]
    },
    {
        "id": "93bc5cae.73aee",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 13,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Manual_LED",
        "x": 1090,
        "y": 3720,
        "wires": []
    },
    {
        "id": "1065e100.58e3af",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 21,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "blue",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Auto_LED",
        "x": 1090,
        "y": 3800,
        "wires": []
    },
    {
        "id": "d7f53ea8.8190e",
        "type": "mqtt in",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP5/PIERO/Sensores",
        "qos": "2",
        "broker": "3a8712eb.e7388e",
        "x": 393.2656478881836,
        "y": 3508.749991416931,
        "wires": [
            [
                "937d4ec7.e21f"
            ]
        ]
    },
    {
        "id": "4660d704.9a7478",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Movimiento",
        "func": "var m=global.get(\"Modo\");\nvar mov=msg.payload;\nif (m===1)\n{\n    msg.payload={};\n    msg.payload={\"orden\":mov};\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 690,
        "y": 3960,
        "wires": [
            [
                "31ca78cd.f4d788"
            ]
        ]
    },
    {
        "id": "9bb94e14.be257",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload.Modo",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 730,
        "y": 3760,
        "wires": [
            [
                "326ffb72.0e4d14",
                "30acc76.34c4f38"
            ],
            [
                "81312cba.50859",
                "30acc76.34c4f38"
            ],
            [
                "326ffb72.0e4d14",
                "bfecc23.e14904"
            ]
        ]
    },
    {
        "id": "81312cba.50859",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 3700,
        "wires": [
            [
                "93bc5cae.73aee"
            ]
        ]
    },
    {
        "id": "bfecc23.e14904",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 3780,
        "wires": [
            [
                "1065e100.58e3af"
            ]
        ]
    },
    {
        "id": "326ffb72.0e4d14",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 3740,
        "wires": [
            [
                "93bc5cae.73aee"
            ]
        ]
    },
    {
        "id": "30acc76.34c4f38",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 3820,
        "wires": [
            [
                "1065e100.58e3af"
            ]
        ]
    },
    {
        "id": "6f500068.49313",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "",
        "func": "var s_i=msg.payload.Sensores[1];\nvar s_d=msg.payload.Sensores[2];\nvar l_i=msg.payload.Sensores[3];\nvar l_c=msg.payload.Sensores[4];\nvar l_d=msg.payload.Sensores[5];\nmsg1={};\nmsg1.payload=s_i;\nmsg2={};\nmsg2.payload=l_i;\nmsg3={};\nmsg3.payload=l_c;\nmsg4={};\nmsg4.payload=l_d;\nmsg5={};\nmsg5.payload=s_d;\n\nmsg6={};\nmsg7={};\nif(s_i < 50 || l_i <50){\n    msg6.payload = true;\n}else{\n    msg6.payload = false;\n}\n\nif(s_d < 50 || l_d <50){\n    msg7.payload = true;\n}else{\n    msg7.payload = false;\n}\n\nreturn [msg1,msg2,msg3,msg4,msg5,msg6,msg7];",
        "outputs": 7,
        "noerr": 0,
        "x": 819.2499618530273,
        "y": 3507.7890491485596,
        "wires": [
            [
                "f7bfc58e.db3eb8"
            ],
            [
                "aee80645.0c17d8"
            ],
            [
                "dcf77fc2.e75bc"
            ],
            [
                "245656ad.6dd5ca"
            ],
            [
                "94df2618.cc8048"
            ],
            [
                "2d876dab.1ee9c2"
            ],
            [
                "c2014597.def398"
            ]
        ]
    },
    {
        "id": "f7bfc58e.db3eb8",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 2,
        "width": "3",
        "height": "2",
        "name": "",
        "label": "Ultrasonidos Izquierdo",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1180,
        "y": 3340,
        "wires": []
    },
    {
        "id": "589b504a.c8df7",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 140,
        "y": 3700,
        "wires": []
    },
    {
        "id": "776d8113.b86da",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 140,
        "y": 3740,
        "wires": []
    },
    {
        "id": "ef0f8982.038ee8",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 19,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 140,
        "y": 3780,
        "wires": []
    },
    {
        "id": "937d4ec7.e21f",
        "type": "json",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 646.1249732971191,
        "y": 3508.9416065216064,
        "wires": [
            [
                "6f500068.49313",
                "d3498b78.f22208"
            ]
        ]
    },
    {
        "id": "aee80645.0c17d8",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Láser Izquierdo",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1160,
        "y": 3380,
        "wires": []
    },
    {
        "id": "dcf77fc2.e75bc",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 5,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Láser Central",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1160,
        "y": 3420,
        "wires": []
    },
    {
        "id": "245656ad.6dd5ca",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 6,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Láser Derecho",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1160,
        "y": 3460,
        "wires": []
    },
    {
        "id": "2d876dab.1ee9c2",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 7,
        "width": 0,
        "height": 0,
        "label": "Obstáculo izquierda",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Led Izquierda",
        "x": 1160,
        "y": 3540,
        "wires": []
    },
    {
        "id": "c2014597.def398",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 7,
        "width": 0,
        "height": 0,
        "label": "Obstáculo Derecha",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Led Derecha",
        "x": 1150,
        "y": 3580,
        "wires": []
    },
    {
        "id": "21a5701b.f925d",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP4/PIERO/Movimiento",
        "qos": "",
        "retain": "",
        "broker": "c347b6ad.8c3148",
        "x": 1040,
        "y": 3040,
        "wires": []
    },
    {
        "id": "d32a7639.792558",
        "type": "mqtt out",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP4/PIERO/Modo",
        "qos": "",
        "retain": "",
        "broker": "c347b6ad.8c3148",
        "x": 760,
        "y": 2760,
        "wires": []
    },
    {
        "id": "3a6aa792.9146d8",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "967dd6a8.7451b8",
        "order": 11,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "",
        "x": 290,
        "y": 3040,
        "wires": [
            [
                "50b00fcb.35588"
            ]
        ]
    },
    {
        "id": "4d51cf48.d582c",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "967dd6a8.7451b8",
        "order": 12,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "W",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "8",
        "payloadType": "str",
        "topic": "",
        "x": 416.9921817779541,
        "y": 2980.999969482422,
        "wires": [
            [
                "50b00fcb.35588"
            ]
        ]
    },
    {
        "id": "8de60df6.2cd73",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "967dd6a8.7451b8",
        "order": 14,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "D",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "6",
        "payloadType": "str",
        "topic": "",
        "x": 523.0078048706055,
        "y": 3036.0000371932983,
        "wires": [
            [
                "50b00fcb.35588"
            ]
        ]
    },
    {
        "id": "ad04e6db.b98348",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "967dd6a8.7451b8",
        "order": 13,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "S",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "",
        "x": 409.9999885559082,
        "y": 3069.0078201293945,
        "wires": [
            [
                "50b00fcb.35588"
            ]
        ]
    },
    {
        "id": "354e202c.24689",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "967dd6a8.7451b8",
        "order": 15,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "str",
        "topic": "",
        "x": 412.00000381469727,
        "y": 3132.0078048706055,
        "wires": [
            [
                "50b00fcb.35588"
            ]
        ]
    },
    {
        "id": "53272797.883368",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "---------------ESP4----------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 420,
        "y": 2460,
        "wires": []
    },
    {
        "id": "e364810a.3806a",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "967dd6a8.7451b8",
        "order": 9,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 449.0000228881836,
        "y": 2790.984383583069,
        "wires": [
            [
                "b740541a.e124b8"
            ]
        ]
    },
    {
        "id": "32475704.d70ba8",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "967dd6a8.7451b8",
        "order": 17,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Automático",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "",
        "x": 446.7578353881836,
        "y": 2833.4843788146973,
        "wires": [
            [
                "b740541a.e124b8"
            ]
        ]
    },
    {
        "id": "884b6cb3.4958d",
        "type": "ui_button",
        "z": "1e28cf77.dd4151",
        "name": "",
        "group": "967dd6a8.7451b8",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reposo",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 448.7578353881836,
        "y": 2879.4843940734863,
        "wires": [
            [
                "b740541a.e124b8"
            ]
        ]
    },
    {
        "id": "b740541a.e124b8",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Modo",
        "func": "var m=global.get('Modo')||0\nif(m === 0)\n{\n    if(msg.payload===1)\n    {\n        global.set('Modo',1);\n        msg.payload={};\n        msg.payload.Modo=1;\n        return msg;\n        \n    }\n    else if (msg.payload===2)\n    {\n        global.set('Modo',2);\n        msg.payload={};\n        msg.payload.Modo=2;\n        return msg;\n    }\n}\nelse if (m!==0)\n{\n    if (msg.payload===0)\n    {\n        global.set('Modo',0);\n        msg.payload={};\n        msg.payload.Modo=0;\n        return msg;\n    }\n}\nelse \n{\n    msg.payload=m;\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 650,
        "y": 2840,
        "wires": [
            [
                "d32a7639.792558",
                "358a84dd.af9efc"
            ]
        ]
    },
    {
        "id": "ab1b0d28.75394",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 10,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Manual_LED",
        "x": 1210,
        "y": 2780,
        "wires": []
    },
    {
        "id": "bebb6346.01ad8",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 18,
        "width": "1",
        "height": "1",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "black",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "blue",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Auto_LED",
        "x": 1210,
        "y": 2900,
        "wires": []
    },
    {
        "id": "b48323e.c5651e",
        "type": "mqtt in",
        "z": "1e28cf77.dd4151",
        "name": "",
        "topic": "infind/GRUPO1/ESP4/PIERO/Sensores",
        "qos": "2",
        "broker": "c347b6ad.8c3148",
        "x": 310,
        "y": 2580,
        "wires": [
            [
                "4a8a580f.fa56e8"
            ]
        ]
    },
    {
        "id": "50b00fcb.35588",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "Movimiento",
        "func": "var m=global.get(\"Modo\");\nvar mov=msg.payload;\nif (m===1)\n{\n    msg.payload={};\n    msg.payload={\"orden\":mov};\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 3040,
        "wires": [
            [
                "21a5701b.f925d"
            ]
        ]
    },
    {
        "id": "358a84dd.af9efc",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload.Modo",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 870,
        "y": 2840,
        "wires": [
            [
                "38a26fd1.381a8",
                "318be77a.a413c8"
            ],
            [
                "65595801.6269a8",
                "318be77a.a413c8"
            ],
            [
                "38a26fd1.381a8",
                "b5c301ca.6c27c"
            ]
        ]
    },
    {
        "id": "65595801.6269a8",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 2760,
        "wires": [
            [
                "ab1b0d28.75394"
            ]
        ]
    },
    {
        "id": "b5c301ca.6c27c",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 2880,
        "wires": [
            [
                "bebb6346.01ad8"
            ]
        ]
    },
    {
        "id": "38a26fd1.381a8",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1041.6365966796875,
        "y": 2795.402298927307,
        "wires": [
            [
                "ab1b0d28.75394"
            ]
        ]
    },
    {
        "id": "318be77a.a413c8",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false a",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 2920,
        "wires": [
            [
                "bebb6346.01ad8"
            ]
        ]
    },
    {
        "id": "db7606fe.49c748",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "",
        "func": "var s_i=msg.payload.Sensores[1];\nvar s_d=msg.payload.Sensores[2];\nmsg1={};\nmsg1.payload=s_i;\nmsg2={};\nmsg2.payload=s_d;\nreturn [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "x": 730,
        "y": 2580,
        "wires": [
            [
                "1115dcc0.088a23",
                "f1b32d35.09f2f"
            ],
            [
                "7adb1761.f67508",
                "1ec5e66c.da458a"
            ]
        ]
    },
    {
        "id": "1115dcc0.088a23",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 2,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Sensor izquierda",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 910,
        "y": 2500,
        "wires": []
    },
    {
        "id": "7adb1761.f67508",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 3,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Sensor derecha",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 900,
        "y": 2680,
        "wires": []
    },
    {
        "id": "f1b32d35.09f2f",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "50",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 2540,
        "wires": [
            [
                "e70f2b30.305028"
            ],
            [
                "cc365d4b.5172c"
            ]
        ]
    },
    {
        "id": "8eb7960c.311c08",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "Obstáculo izquierda",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Led_Izq",
        "x": 1220,
        "y": 2540,
        "wires": []
    },
    {
        "id": "e70f2b30.305028",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 2520,
        "wires": [
            [
                "8eb7960c.311c08"
            ]
        ]
    },
    {
        "id": "cc365d4b.5172c",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1058.7616882324219,
        "y": 2564.613292694092,
        "wires": [
            [
                "8eb7960c.311c08"
            ]
        ]
    },
    {
        "id": "1ec5e66c.da458a",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "50",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 2640,
        "wires": [
            [
                "a4aaf049.f4cb9"
            ],
            [
                "59d4633d.ed492c"
            ]
        ]
    },
    {
        "id": "d9b26816.a9c228",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "Obstáculo derecha",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "LED_dcha",
        "x": 1230,
        "y": 2640,
        "wires": []
    },
    {
        "id": "59d4633d.ed492c",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1064.7616729736328,
        "y": 2662.6132946014404,
        "wires": [
            [
                "d9b26816.a9c228"
            ]
        ]
    },
    {
        "id": "a4aaf049.f4cb9",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 2620,
        "wires": [
            [
                "d9b26816.a9c228"
            ]
        ]
    },
    {
        "id": "ca0acde6.65b4b",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 216.24999237060547,
        "y": 2767.7031593322754,
        "wires": []
    },
    {
        "id": "e807bf7f.8d47a",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 221.51561737060547,
        "y": 2831.710948944092,
        "wires": []
    },
    {
        "id": "83d5c544.2d77f8",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "967dd6a8.7451b8",
        "order": 16,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "------------------------------------",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 220.51561737060547,
        "y": 2905.710949897766,
        "wires": []
    },
    {
        "id": "4a8a580f.fa56e8",
        "type": "json",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 570,
        "y": 2580,
        "wires": [
            [
                "db7606fe.49c748"
            ]
        ]
    },
    {
        "id": "37b67568.4b919a",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "",
        "func": "var s_i=msg.payload.Sensores[1];\nvar s_d=msg.payload.Sensores[2];\nmsg1={};\nmsg1.payload=s_i;\nmsg2={};\nmsg2.payload=s_d;\nreturn [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "x": 750,
        "y": 1740,
        "wires": [
            [
                "e7c57736.0b0418",
                "6ce0664a.ecea28"
            ],
            [
                "ae09d0fd.476b8",
                "5f00a13.50fef6"
            ]
        ]
    },
    {
        "id": "e7c57736.0b0418",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 2,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Sensor izquierda",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 890,
        "y": 1640,
        "wires": []
    },
    {
        "id": "ae09d0fd.476b8",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 3,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Sensor derecha",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 900,
        "y": 1840,
        "wires": []
    },
    {
        "id": "6ce0664a.ecea28",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "50",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 1680,
        "wires": [
            [
                "8d3da4ea.45dbd8"
            ],
            [
                "81e6df34.5ca3c"
            ]
        ]
    },
    {
        "id": "953432b0.2696b",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "Obstáculo izquierda",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Led_Izq",
        "x": 1220,
        "y": 1680,
        "wires": []
    },
    {
        "id": "8d3da4ea.45dbd8",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 1660,
        "wires": [
            [
                "953432b0.2696b"
            ]
        ]
    },
    {
        "id": "81e6df34.5ca3c",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 1700,
        "wires": [
            [
                "953432b0.2696b"
            ]
        ]
    },
    {
        "id": "5f00a13.50fef6",
        "type": "switch",
        "z": "1e28cf77.dd4151",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "50",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 1800,
        "wires": [
            [
                "f825e0ca.84787"
            ],
            [
                "31dd8f32.a5a1f"
            ]
        ]
    },
    {
        "id": "acc66e51.f52c8",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "92f14939.041ce8",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "Obstáculo derecha",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "LED_dcha",
        "x": 1230,
        "y": 1800,
        "wires": []
    },
    {
        "id": "31dd8f32.a5a1f",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "false m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1064.7616729736328,
        "y": 1822.6132946014404,
        "wires": [
            [
                "acc66e51.f52c8"
            ]
        ]
    },
    {
        "id": "f825e0ca.84787",
        "type": "change",
        "z": "1e28cf77.dd4151",
        "name": "true m",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 1780,
        "wires": [
            [
                "acc66e51.f52c8"
            ]
        ]
    },
    {
        "id": "50d778b3.66d9a8",
        "type": "function",
        "z": "1e28cf77.dd4151",
        "name": "",
        "func": "var s_i=msg.payload.Sensores[1];\nvar s_d=msg.payload.Sensores[2];\nvar l_i=msg.payload.Sensores[3];\nvar l_c=msg.payload.Sensores[4];\nvar l_d=msg.payload.Sensores[5];\nmsg1={};\nmsg1.payload=s_i;\nmsg2={};\nmsg2.payload=l_i;\nmsg3={};\nmsg3.payload=l_c;\nmsg4={};\nmsg4.payload=l_d;\nmsg5={};\nmsg5.payload=s_d;\n\nmsg6={};\nmsg7={};\nif(s_i < 50 || l_i <50){\n    msg6.payload = true;\n}else{\n    msg6.payload = false;\n}\n\nif(s_d < 50 || l_d <50){\n    msg7.payload = true;\n}else{\n    msg7.payload = false;\n}\n\nreturn [msg1,msg2,msg3,msg4,msg5,msg6,msg7];",
        "outputs": 7,
        "noerr": 0,
        "x": 710,
        "y": 940,
        "wires": [
            [
                "789dd0fe.f6425"
            ],
            [
                "568be6e3.aece28"
            ],
            [
                "4075525d.32117c"
            ],
            [
                "ec358ff5.aa2ab"
            ],
            [
                "cf67a7b8.c62a38"
            ],
            [
                "fcacc296.b12f7"
            ],
            [
                "83397f62.60cda"
            ]
        ]
    },
    {
        "id": "568be6e3.aece28",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Láser Izquierdo",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1060,
        "y": 840,
        "wires": []
    },
    {
        "id": "4075525d.32117c",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 5,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Láser Central",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1060,
        "y": 880,
        "wires": []
    },
    {
        "id": "ec358ff5.aa2ab",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 6,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Láser Central",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1060,
        "y": 920,
        "wires": []
    },
    {
        "id": "9a870a7f.5a6d38",
        "type": "debug",
        "z": "1e28cf77.dd4151",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 630,
        "y": 860,
        "wires": []
    },
    {
        "id": "94df2618.cc8048",
        "type": "ui_text",
        "z": "1e28cf77.dd4151",
        "group": "13f66c5.be2a194",
        "order": 3,
        "width": "3",
        "height": "2",
        "name": "",
        "label": "Ultrasonidos Derecho",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1180,
        "y": 3500,
        "wires": []
    },
    {
        "id": "83397f62.60cda",
        "type": "ui_led",
        "z": "1e28cf77.dd4151",
        "group": "f1898c68.89e9",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "Obstáculo derecha",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "LED_dcha",
        "x": 1030,
        "y": 1040,
        "wires": []
    },
    {
        "id": "d3498b78.f22208",
        "type": "debug",
        "z": "1e28cf77.dd4151",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 730,
        "y": 3420,
        "wires": []
    },
    {
        "id": "3a8712eb.e7388e",
        "type": "mqtt-broker",
        "z": "",
        "name": "iot infind",
        "broker": "iot.ac.uma.es",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "ff334529.175c38",
        "type": "ui_group",
        "z": "",
        "name": "ESP1",
        "tab": "78e2845c.38bb3c",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f1898c68.89e9",
        "type": "ui_group",
        "z": "",
        "name": "ESP2",
        "tab": "78e2845c.38bb3c",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "92f14939.041ce8",
        "type": "ui_group",
        "z": "",
        "name": "ESP3",
        "tab": "78e2845c.38bb3c",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "13f66c5.be2a194",
        "type": "ui_group",
        "z": "",
        "name": "ESP5",
        "tab": "78e2845c.38bb3c",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "c347b6ad.8c3148",
        "type": "mqtt-broker",
        "z": "",
        "name": "iot infind",
        "broker": "iot.ac.uma.es",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "967dd6a8.7451b8",
        "type": "ui_group",
        "z": "",
        "name": "ESP4",
        "tab": "78e2845c.38bb3c",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "78e2845c.38bb3c",
        "type": "ui_tab",
        "z": "",
        "name": "ControlPIERO",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    }
]